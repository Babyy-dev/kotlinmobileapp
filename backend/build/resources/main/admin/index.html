<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Kappa Admin Control Room</title>
    <link rel="stylesheet" href="admin.css">
  </head>
  <body>
    <div class="background">
      <div class="orb" style="top: -120px; left: -80px;"></div>
      <div class="orb alt"></div>
    </div>

    <header>
      <h1>Kappa Admin Control Room</h1>
      <p>Paste an admin JWT, load data, and push updates without leaving the page.</p>
    </header>

    <main>
      <section class="card">
        <h2>Connection <span class="pill">Session</span></h2>
        <div class="grid">
          <label>
            API Base URL
            <input id="baseUrl" placeholder="https://api.appkappa.com/api">
          </label>
          <label>
            Admin JWT (Bearer)
            <textarea id="token" placeholder="Paste access token from login response"></textarea>
          </label>
        </div>
        <div class="row">
          <button id="saveConfig">Save</button>
          <button class="secondary" id="testToken">Test token</button>
          <button class="secondary" id="clearOutput">Clear output</button>
        </div>
        <div class="output" id="output">Ready.</div>
      </section>

      <section class="card">
        <h2>Users</h2>
        <div class="grid">
          <label>
            Role filter
            <select id="userRoleFilter">
              <option value="">Any</option>
              <option>ADMIN</option>
              <option>RESELLER</option>
              <option>AGENCY</option>
              <option>HOST</option>
              <option>TEAM</option>
              <option>USER</option>
            </select>
          </label>
          <label>
            Status filter
            <select id="userStatusFilter">
              <option value="">Any</option>
              <option>active</option>
              <option>inactive</option>
              <option>blocked</option>
              <option>suspended</option>
            </select>
          </label>
          <label>
            Limit
            <input id="userLimit" type="number" value="50">
          </label>
        </div>
        <div class="row">
          <button id="loadUsers">Load users</button>
        </div>
        <div class="grid" style="margin-top: 12px;">
          <label>
            User ID
            <input id="userIdInput" placeholder="UUID">
          </label>
          <label>
            Update role
            <select id="userRoleUpdate">
              <option>USER</option>
              <option>HOST</option>
              <option>AGENCY</option>
              <option>RESELLER</option>
              <option>TEAM</option>
              <option>ADMIN</option>
            </select>
          </label>
          <label>
            Update status
            <select id="userStatusUpdate">
              <option>active</option>
              <option>inactive</option>
              <option>blocked</option>
              <option>suspended</option>
            </select>
          </label>
        </div>
        <div class="row">
          <button class="secondary" id="updateUserRole">Update role</button>
          <button class="secondary" id="updateUserStatus">Update status</button>
        </div>
        <div id="usersTable"></div>
      </section>

      <section class="card">
        <h2>Rooms</h2>
        <div class="grid">
          <label>
            Status filter
            <select id="roomStatusFilter">
              <option value="active">active</option>
              <option value="closed">closed</option>
              <option value="all">all</option>
            </select>
          </label>
        </div>
        <div class="row">
          <button id="loadRooms">Load rooms</button>
        </div>
        <div id="roomsTable"></div>
      </section>

      <section class="card">
        <h2>Economy</h2>
        <div class="grid">
          <label>
            Coin package name
            <input id="coinPackName" placeholder="Starter Pack">
          </label>
          <label>
            Coin amount
            <input id="coinPackAmount" type="number" placeholder="1000">
          </label>
          <label>
            Price USD
            <input id="coinPackPrice" placeholder="0.99">
          </label>
          <label>
            Active
            <select id="coinPackActive">
              <option>true</option>
              <option>false</option>
            </select>
          </label>
        </div>
        <div class="row">
          <button id="createCoinPack">Create coin package</button>
          <button class="secondary" id="loadCoinPacks">Load coin packages</button>
        </div>
        <div class="grid" style="margin-top: 12px;">
          <label>
            Update package ID
            <input id="coinPackId">
          </label>
          <label>
            Update name
            <input id="coinPackNameUpdate">
          </label>
          <label>
            Update coins
            <input id="coinPackAmountUpdate" type="number">
          </label>
          <label>
            Update price
            <input id="coinPackPriceUpdate">
          </label>
          <label>
            Update active
            <select id="coinPackActiveUpdate">
              <option>true</option>
              <option>false</option>
            </select>
          </label>
        </div>
        <div class="row">
          <button class="secondary" id="updateCoinPack">Update package</button>
          <button class="secondary" id="refundPurchase">Refund purchase</button>
          <input id="purchaseId" placeholder="Purchase ID for refund">
        </div>
        <div id="coinPackTable"></div>
      </section>

      <section class="card">
        <h2>Gifts Catalog</h2>
        <div class="grid">
          <label>
            Gift name
            <input id="giftName" placeholder="Rose">
          </label>
          <label>
            Gift type
            <select id="giftType">
              <option>INDIVIDUAL</option>
              <option>GROUP_FIXED</option>
              <option>GROUP_MULTIPLIER</option>
            </select>
          </label>
          <label>
            Cost (coins)
            <input id="giftCost" type="number" placeholder="100">
          </label>
          <label>
            Diamond percent
            <input id="giftPercent" type="number" placeholder="100">
          </label>
        </div>
        <div class="row">
          <button id="createGift">Create gift</button>
          <button class="secondary" id="loadGifts">Load gifts</button>
        </div>
        <div class="grid" style="margin-top: 12px;">
          <label>
            Update gift ID
            <input id="giftIdUpdate">
          </label>
          <label>
            Update name
            <input id="giftNameUpdate">
          </label>
          <label>
            Update type
            <input id="giftTypeUpdate">
          </label>
          <label>
            Update cost
            <input id="giftCostUpdate" type="number">
          </label>
          <label>
            Update percent
            <input id="giftPercentUpdate" type="number">
          </label>
          <label>
            Active
            <select id="giftActiveUpdate">
              <option value="">Leave</option>
              <option>true</option>
              <option>false</option>
            </select>
          </label>
        </div>
        <div class="row">
          <button class="secondary" id="updateGift">Update gift</button>
        </div>
        <div id="giftsTable"></div>
      </section>

      <section class="card">
        <h2>Rewards</h2>
        <div class="grid">
          <label>
            Status filter
            <select id="rewardStatusFilter">
              <option value="">Any</option>
              <option>PENDING</option>
              <option>APPROVED</option>
              <option>REJECTED</option>
            </select>
          </label>
        </div>
        <div class="row">
          <button id="loadRewards">Load reward requests</button>
        </div>
        <div class="grid" style="margin-top: 12px;">
          <label>
            Reward request ID
            <input id="rewardId">
          </label>
        </div>
        <div class="row">
          <button class="secondary" id="approveReward">Approve</button>
          <button class="secondary" id="rejectReward">Reject</button>
        </div>
        <div id="rewardsTable"></div>
      </section>

      <section class="card">
        <h2>Announcements</h2>
        <div class="grid">
          <label>
            Title
            <input id="announcementTitle">
          </label>
          <label>
            Message
            <input id="announcementMessage">
          </label>
          <label>
            Active
            <select id="announcementActive">
              <option>true</option>
              <option>false</option>
            </select>
          </label>
        </div>
        <div class="row">
          <button id="createAnnouncement">Create announcement</button>
          <button class="secondary" id="loadAnnouncements">Load announcements</button>
        </div>
        <div class="grid" style="margin-top: 12px;">
          <label>
            Update announcement ID
            <input id="announcementIdUpdate">
          </label>
        </div>
        <div class="row">
          <button class="secondary" id="updateAnnouncement">Update announcement</button>
        </div>
        <div id="announcementsTable"></div>
      </section>

      <section class="card">
        <h2>Agency & Reseller Applications</h2>
        <div class="row">
          <button id="loadAgencyApps">Load agency apps</button>
          <button class="secondary" id="loadResellerApps">Load reseller apps</button>
        </div>
        <div class="grid" style="margin-top: 12px;">
          <label>
            Application ID
            <input id="agencyAppId">
          </label>
          <label>
            Application Type
            <select id="appType">
              <option value="agency">agency</option>
              <option value="reseller">reseller</option>
            </select>
          </label>
        </div>
        <div class="row">
          <button class="secondary" id="approveApp">Approve</button>
          <button class="secondary" id="rejectApp">Reject</button>
        </div>
        <div id="appsTable"></div>
      </section>

      <section class="card">
        <h2>Agencies & Commissions</h2>
        <div class="grid">
          <label>
            Agency status filter
            <select id="agencyStatusFilter">
              <option value="">Any</option>
              <option>active</option>
              <option>inactive</option>
              <option>suspended</option>
            </select>
          </label>
          <label>
            Limit
            <input id="agencyLimit" type="number" value="50">
          </label>
        </div>
        <div class="row">
          <button id="loadAgencies">Load agencies</button>
          <button class="secondary" id="loadCommissions">Load commissions</button>
        </div>
        <div class="grid" style="margin-top: 12px;">
          <label>
            Agency ID
            <input id="agencyIdUpdate">
          </label>
          <label>
            Commission value USD
            <input id="agencyCommissionUsd" placeholder="2.20">
          </label>
          <label>
            Commission block diamonds
            <input id="agencyCommissionBlock" type="number" placeholder="620000">
          </label>
          <label>
            Status
            <select id="agencyStatusUpdate">
              <option value="">Leave</option>
              <option>active</option>
              <option>inactive</option>
              <option>suspended</option>
            </select>
          </label>
          <label>
            Commission agency ID
            <input id="commissionAgencyId" placeholder="Optional">
          </label>
        </div>
        <div class="row">
          <button class="secondary" id="updateAgency">Update agency</button>
        </div>
        <div id="agencyTable"></div>
        <div id="commissionTable"></div>
      </section>

      <section class="card">
        <h2>Activity Log</h2>
        <div class="log" id="log"></div>
      </section>
    </main>

    <script defer src="admin.js"></script>
  </body>
</html>
